# Webとネトワーク技術

## 01. Webを実現するコンピューターネットワーク

**コンピューターネットワーク**
Webを支えている技術
コンピューターがお互いに接続して情報のやり取りをする仕組み

**サーバー**
ネットワーク上で情報やサービスを提供する役割を持つコンピュータ-

**クライアント**
サーバーから提供された情報やサービスを利用する役割を持つコンピューター

**インターネット**
自宅や会社などの小さな範囲のネットワークが１つ１つお互いに接続し、世界中のネットワークが繋がった環境のこと
__インターネットサービスプロバイダ__ が提供するサービスを利用し、インターネットに接続する

**インターネットサービスプロバイダ**
「プロバイダー」「ISP」と略されることが多い
スマホやパソコンはプロバイダーと接続し、プロバイダーはプロバイダー同士で接続しあうことで世界中が１つのネットワークとして形成され、インターネットとして成り立っている。

**クライアント/サーバーシステム**
各コンピュータに役割を持たせて分散処理を目的とした仕組み

**追加**
プロバイダーは階層構造で繋がっている

## 02. インターネットの標準プロトコル

**プロトコル**
ネットワークに接続された機器同士が通信する時の、予め決められた共通のルールや手順のこと
お互いに同じプロトコルを利用することにより、データのやり取りが可能となる
HTTPはHyperText、つまりWebコンテンツを送受信するためのプロトコル

**TCP/IP (Transmission Control Protocol/Internet Protocol)**
インターネットにおける様々なサービスを実現するためのプロトコルの集まりのこと
スマートフォンやパソコン、サーバといったコンピュータはすべてTCP/IPに対応している。
TCP/IPは役割ごとに階層化されている。
__HTTP__ もTCP/IPに含まれるプロトコルの１つ。
__HTTP__ にはWebサーバがどこにあるのか、またWebコンテンツをどのように転送するのかといった取り決めがない。
__HTTP__ だけでは足りない部分をTCP/IPの他のプロトコルが補うことで、お互いに接続することを可能としている

| プロトコル名<br>(略称)| プロトコル名<br>(フルネーム) | 用途 |
|---|---|---|
| HTTP | Hyper Text Transfer Protocol | WebブラウザとWebサーバーの間でデータのやり取りをするときに使用する、データ送受信ようのプロトコル |
| FTP | File Transfer Protocol | コンピューター間でファイルをやり取りするときに使用する、ファイル送受信用のプロトコル |
| SMTP | Simple Mail Transfer Protocol | 電子メールを送受信するときに使用する、メール送信用のプロトコル |
| POP | Post Office Protocol | ユーザーがメールサーバーから自分のメールを取り出すときに使用する、メール受信用プロトコル |

## 03. TCP/IP
TCP/IPは役割ごとに４つの階層(レイヤー)に分かれている
- アプリケーション層 (レイヤー4)
- トランスポート層 (レイヤー３)
- インターネット層 (レイヤー２)
- ネットワークインターフェース層 (レイヤー1)

**アプリケーション層**
Webブラウザやメールそふとなどのアプリケーションごとのやり取りを規定している。これらのアプリケーションの多くはクライアント/サーバーシステムで構成されており、クライアントとサーバー間のサービスの要求と応答とで成り立っている。
また、アプリケーション層では転送するのに適したデータ形式に変換し、逆にネットワーク経由で受け取ったデータを私たちが理解できるように変換する役割を持っている。
データの転送処理などはアプリケーション層より以下の層が担当している。

**TCP (Transmission Control Protocol)**
データの順序や欠落のチェックを行う
Webサイトやメールなどのデータ損失が起きると困るようなアプリケーションで利用されている。
TCPは、送信側と受信側でと違いに確認を取りながら通信を行うコネクション型

**UDP (User Datagram Protocol)**
分割されたデータの順序や欠落を保証していない。
通信の手続きが簡略化されているため、信頼性は低いものの効率よく通信できるため
動画のストリーミングなどで利用されている
UDPは送信側と受診側で確認を取らないコネクションレス型

| レイヤー名 | 役割用途 | プロトコルの例 |
|---|---|---|
| アプリケーション層 | アプリケーションごとのやり取りを規定 | HTTP, SMTP, FTP など | 
| トランスポート層 | データの分割や品質保証を規定 | TCP, UDP |
| インターネット層 | ネットワーク間の通信を規定 | IP, ICMP など |
| ネットワークインターフェース層 | コネクタ形状や周波数といったハードウェアに関する規定 | イーサネット, Wi-Fi など |

## 04. IPアドレスとポート番号
**IPアドレス**
データの行き先を管理するための識別番号

**ポート番号**
コンピュータが提供するサービスを指定するためのもの

IPアドレスは住所
ポート番号は部屋番号

Webサーバー(HTTP)であれば80番といったポート番号は決まっている

## 05. URLとドメイン
**URL (Uniform Resource Locator)**
例: http://example.com/test.html
Webサイトの場所を示す際に用いられることが多い
Webサイトだけでなく、インターネットやLANなどのネットワーク上にあるデータやファイルの場所と、それらの取得方法を指定するために利用されます。
http : ファイルを取得する方法
example.com : ファイル取得先のサーバを指定
test.html : 取得するファイル名
httpを用いてサーバに接続する場合はポート番号80を使用すると決まっているため省略している
省略しない場合は
http://example.com:80/test.html

**ドメイン**
IPアドレスの別名として利用される
IPアドレスは覚えにくく扱いづらいため
ドメインはグローバルIPアドレスと同様に一意であり、世界中において同じドメインは存在しない

| スキーム名 | 意味 |
|----|----|
| http | Webサイトを閲覧する際に利用されるプロトコル |
| https | httpを暗号化(SSL)しているプロトコル |
| ftp | ファイル転送で使用するプロトコル |

| プロトコル | ポート番号 |
|---|---|
| http | 80 |
| https | 443 |
| ftp | 20(データ転送用), 21(制御用) |

FQDN Fully Qualified Domain Name 完全修飾ドメイン名
例 : http://www.example.com/test.html

## 06. DNS

**DNS (Domain Name System)**
ドメインをIPアドレスに変換する仕組み
DNSのサービスを提供するサーバーを __DNSサーバー__ という。

ドメインは「.」(ドット)で区切られた階層構造になっており、それぞれの階層にDNSサーバーがあります。格DNSサーバーは同階層のドメインとIPアドレスの紐付けと、下階層に位置するDNSサーバーの管理を行っている。

1度問い合わせられたIPアドレスは一定期間DNSキャッシュサーバーに保管され、同じ問い合わせがあった場合にはDNSキャッシサーバーが応答する。

## 07. HTTP

**HTTP (Hyper Text Transfer Protocol)**
クライアント(Webブラウザ)とサーバー(Webサーバー)間においてWebコンテンツを送受信するためのプロトコル

**クライアントとサーバー間のやり取り**
大きく分けて５つのステップで行われる
1. Webブラウザのアドレス欄にURLを入力、あるいはWebサイト内のリンクをクリック
2. URLやリンク情報に基づいてWebサーバーに対してデータを要求
3. Webブラウザより受け取ったWebサーバーは要求内容を解析
4. 解析した結果より、要求されたデータをWebブラウザへと応答
5. WebブラウザはWebサーバーより受け取ったデータを解析し、Webページとして表示
2~4のステップがWebコンテンツの送受信部分であり、HTTPが利用される部分
Webサイトを表示する際はHTTPだけでなく、IP、TCPといった様々なプロトコルを組み合わせて利用している。

## column IPv4とIPv6

IPv4で利用可能なアドレスが将来的に枯渇すると考えられ、IPv6が用意された

| プロトコル | ビット数 | アドレス数 |
|---|---|---|
| IPv4 | 32ビット | 43億 |
| IPv6 | 128ビット | 340澗 |